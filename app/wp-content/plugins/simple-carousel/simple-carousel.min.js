!function(a){function b(b){return this.$base=b,this.carouselItems=-1,this.maxIndex=-1,this.minIndex=0,this.canMove=!0,this.swipeX=0,this.swipeY=0,this.init=function(){var b=this.minIndex;do this.getSlideAtIndex(b).length||(this.maxIndex=b-1),b++;while(-1==this.maxIndex&&100>b);this.$base.append('<div class="control prev"><button class="button-prev"><span class="screen-reader-text">Previous Image</span></button></div><div class="control next"><button class="button-next"><span class="screen-reader-text">Next Image</span></button></div">'),this.$base.find(".button-prev").bind("click",{carousel:this},function(a){a.data.carousel.move(-1)}),this.$base.find(".button-next").bind("click",{carousel:this},function(a){a.data.carousel.move(1)}),this.$base.on("touchstart",{carousel:this},function(a){a.data.carousel.touchStart(a)}),this.$base.on("touchend",{carousel:this},function(a){a.data.carousel.touchEnd(a)&&a.preventDefault()});for(var c='<div class="skip-links">',b=this.getMinIndex();b<=this.getMaxIndex();b++){var d="";this.getActiveSlideIndex()==b&&(d="active"),c+='<button class="skip '+b+" "+d+'" data-index="'+b+'"><span class="screen-reader-text">Skip to Image '+b+"</span></button>"}c+="</div>",this.$base.append(c),this.$base.find(".skip-links button.skip").bind("click",{carousel:this},function(b){b.data.carousel.set(a(this).data("index"))})},this.move=function(a){if(!this.canMove)return!1;var b=this.getActiveSlide();if(!b.length)return!1;var c=this.getSlideIndex(b);return-1==c?!1:(this.canMove=!1,setTimeout(function(){this.resetAnimations()}.bind(this),moveWait),this.set(c+a))},this.resetAnimations=function(){this.canMove=!0},this.set=function(a){var b=this.getActiveSlide();if(!b.length)return!1;var c=this.getSlideIndex(b);if(-1==c)return!1;a<this.getMinIndex()?a=this.getMaxIndex():a>this.getMaxIndex()&&(a=this.getMinIndex());var f=this.getSlideAtIndex(a);if(f.length){b.removeClass("active"),f.addClass("active");this.$base.find(".skip-links button."+c+".active").removeClass("active"),this.$base.find(".skip-links button."+a).addClass("active");return this.$base.find(".slides").css({transform:"translateX("+-100*this.getSlideIndex(f)+"%)"}),e(),!0}return!1},this.getSlideIndex=function(a){return a.length?a.data("index"):-1},this.getSlideAtIndex=function(a){return this.$base.find(".slides a."+a)},this.getActiveSlideIndex=function(){var a=this.getActiveSlide();return a.length?this.getSlideIndex(a):null},this.getActiveSlide=function(){return this.$base.find(".slides a.active")},this.getMinIndex=function(){return this.minIndex},this.getMaxIndex=function(){return this.maxIndex},this.touchStart=function(a){this.swipeX=a.originalEvent.changedTouches[0].clientX,this.swipeY=a.originalEvent.changedTouches[0].clientY},this.touchEnd=function(a){var b=a.originalEvent.changedTouches[0].clientX-this.swipeX,c=a.originalEvent.changedTouches[0].clientY-this.swipeY;if(Math.abs(c)<swipeYThreshold){if(b>swipeXThreshold)return this.move(-1),!0;if(b<-swipeXThreshold)return this.move(1),!0}},this}function c(){a(".carousel").each(function(c,d){var e=new b(a(this));e.init(),carouselArray.push(e)}),e()}function d(){for(var a=0;a<carouselArray.length;a++)carouselArray[a].move(1);e()}function e(){clearTimeout(advanceID),advanceID=setTimeout(function(){d()},advanceDelay)}carouselArray=new Array,advanceID=0,advanceDelay=5e3,moveWait=600,swipeXThreshold=75,swipeYThreshold=35,a(document).ready(function(){a(window).on("load",c)})}(jQuery);